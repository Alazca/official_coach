{% extends "base.html" %}
{% block content %}
<div class="max-w-md mx-auto p-6 bg-white shadow rounded mt-12">
  <h1 class="text-2xl font-bold mb-4">Log in to COACH</h1>
  <form id="login-form" class="space-y-4">
    <input type="email" id="email" placeholder="Email" required class="w-full border p-2 rounded">
    <input type="password" id="password" placeholder="Password" required class="w-full border p-2 rounded">
    <button type="submit" class="w-full bg-gray-800 text-white py-2 rounded hover:bg-gray-700">Login</button>
  </form>

  <p class="text-sm text-center mt-4 text-gray-600">
    Don't have an account?
    <a href="/register" class="text-blue-600 hover:underline">Register here</a>
  </p>
</div>


</div>
<script>
document.getElementById("login-form").addEventListener("submit", async (e) => {
  e.preventDefault();
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;
  const result = await AuthService.login(email, password);
  if (result.success) {
    window.location.href = "/dashboard";
  } else {
    UI.showError(result.message);
  }
});
</script>
{% endblock %}
